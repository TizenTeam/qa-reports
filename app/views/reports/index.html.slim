- content_for :version_navi do
  #version_navi
    = release_version_navigation(release.name)

#index_page
  table#report_navigation
    thead
      tr.profiles
        th.profile
          span.name
    tr
      td.profile_columns
        div.testsets
          div
            / TODO: Use css instead of strong tag
            strong
              a.name
            ul.products
              li
                a.name

javascript:
  // profile_names = #{{@profiles.to_json}}
  products      = #{{Hash[@products.map {|key, val_hash| [key, val_hash.keys]}].to_json}}

coffee:
  profiles = [
    name: "Core"
    testsets: [ 
      name: "Core Sanity"
      products: [
        name: "Core Sanity N900"
      ,
        name: "Core Sanity Lenovo"
      ]
    ,
      name: "Core Acceptance"
      products: [
        name: "Core Acceptance Netbook"
      ,
        name: "Core Acceptance Pinetrail"
      ]
    ]
  ,
    name: "Handset"
    testsets: [ 
      name: "Handset Sanity"
      products: [
        name: "Handset Sanity N900"
      ,
        name: "Handset Sanity Lenovo"
      ]
    ,
      name: "Acceptance"
      products: [
        name: "Handset Acceptance Netbook"
      ,
        name: "Handset Acceptance Pinetrail"
      ]
    ]
  ]

  profile_names = for data in profiles
    (name: data.name)

  $('th.profile').render(profile_names)
  $('.profile_columns').render(profiles)

